(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0;$.Define($$,{Arrays:{contains:function(_1,_2){var _3,_4,_5;_3=true;_4=0;_5=_2.length;while(_3?_4<_5:false){a.Equals(_2[_4],_1)?_3=false:_4=_4+1;}return!_3;},mapFold:function(_6,_7,_8){var _9,_,ba,bb,bc,bd;_9=b(_8.length);_=_7;for(ba=0;ba<=_8.length-1;ba++){bb=(_6(_))(c.get(_8,ba));bc=bb[1];bd=bb[0];c.set(_9,ba,bd);_=bc;}return[_9,_];},mapFoldBack:function(bd,be,bf){var bg,bh,bi,bj,bk,bl,bm,bn;bg=b(be.length);bh=bf;bi=be.length;for(bj=1;bj<=bi;bj++){bk=bi-bj;bl=(bd(c.get(be,bk)))(bh);bm=bl[1];bn=bl[0];c.set(bg,bk,bn);bh=bm;}return[bg,bh];},sortInPlaceByDescending:function(bo,bp){return bp.sort(function(bq,br){return-d.Compare(bo(bq),bo(br));});},splitInto:function(bs,bt){var bu,bv,bw,bx,by,bz,bA,bB;bs<=0?d.FailWith("Count must be positive"):null;bu=c.length(bt);if(bu===0){bv=[];}else{bw=d.Min(bs,bu);bx=b(bw);by=bu/bw>>0;bz=0;for(bA=0;bA<=bu%bw-1;bA++){c.set(bx,bA,c.sub(bt,bz,by+1));bz=bz+by+1;}for(bB=bu%bw;bB<=bw-1;bB++){c.set(bx,bB,c.sub(bt,bz,by));bz=bz+by;}bv=bx;}return bv;},tryFindBack:function(bC,bD){var bE,bF;bE={$:0};bF=bD.length-1;while(bF>0?bE.$==0:false){bC(c.get(bD,bF))?bE={$:1,$0:c.get(bD,bF)}:null;bF=bF-1;}return bE;},tryFindIndexBack:function(bG,bH){var bI,bJ;bI={$:0};bJ=bH.length-1;while(bJ>0?bI.$==0:false){bG(c.get(bH,bJ))?bI={$:1,$0:bJ}:null;bJ=bJ-1;}return bI;}},List:{map3:function(bK,bL,bM,bN){var bO;bO=c.map2(function(bP){return function(bQ){return bP(bQ);};},c.map2(bK,c.ofSeq(bL),c.ofSeq(bM)),c.ofSeq(bN));return e.ofArray(bO);},skip:function(bR,bS){var bT,bU,bV,bW;bT=bS;for(bU=1;bU<=bR;bU++){if(bT.$==0){bV=d.FailWith("Input list too short.");}else{bW=bT.$1;bV=bT=bW;}}return bT;},skipWhile:function(bX,bY){var bZ;bZ=bY;while(!(bZ.$==0)?bX(e.head(bZ)):false){bZ=e.tail(bZ);}return bZ;}},Seq:{chunkBySize:function(b0,b1){var b2;b0<=0?d.FailWith("Chunk size must be positive"):null;b2=function(){var b4,b5,b7;b4=f.Get(b1);b5=function(){return b4.Dispose();};b7=function(b8){var b9,b_,b$;if(b4.MoveNext()){b_=[b4.get_Current()];while(c.length(b_)<b0?b4.MoveNext():false){b$=b_.push(b4.get_Current());}b8.c=b_;b9=true;}else{b9=false;}return b9;};return g.New(null,null,b7,b5);};return h.Of(b2);},compareWith:function(ca,cb,cc){var cd,ce,cf,cg,ch,ci,cj;cd=f.Get(cb);try{cf=f.Get(cc);try{ch=0;ci=true;while(ci?ch===0:false){cj=[cd.MoveNext(),cf.MoveNext()];cj[0]?cj[1]?ch=(ca(cd.get_Current()))(cf.get_Current()):ch=1:cj[1]?ch=-1:ci=false;}cg=ch;}finally{cf.Dispose!=undefined?cf.Dispose():null;}ce=cg;}finally{cd.Dispose!=undefined?cd.Dispose():null;}return ce;},contains:function(ck,cl){var cm,cn,co;cm=f.Get(cl);try{co=false;while(!co?cm.MoveNext():false){co=a.Equals(cm.get_Current(),ck);}cn=co;}finally{cm.Dispose!=undefined?cm.Dispose():null;}return cn;},countBy:function(cp,cq){var cr;cr=function(){var ct,cu,cv,cw,cx,cy,cz,cA,cC,cD;ct={};cu=f.Get(cq);try{cw=[];while(cu.MoveNext()){cx=cp(cu.get_Current());cy=a.Hash(cx);if(ct.hasOwnProperty(cy)){cz=void(ct[cy]=ct[cy]+1);}else{cw.push(cx);cz=void(ct[cy]=1);}}cA=function(cB){return[cB,ct[a.Hash(cB)]];};cC=cw.slice(0);cD=c.map(cA,cC);cv=cD;}finally{cu.Dispose!=undefined?cu.Dispose():null;}return cv;};return i.delay(cr);},distinct:function(cE){return j.distinctBy(function(cF){return cF;},cE);},distinctBy:function(cG,cH){var cI;cI=function(){var cK,cL,cM,cU,cW;cK=f.Get(cH);cL=b.prototype.constructor.apply(b,[]);cM=function(cN){var cO,cP,cQ,cR,cS,cT;cO=cG(cN);cP=a.Hash(cO);cQ=cL[cP];if(a.Equals(cQ,undefined)){cL[cP]=[cO];cR=true;}else{if(k.contains(cO,cQ)){cS=false;}else{cT=cQ.push(cO);cS=true;}cR=cS;}return cR;};cU=function(){return cK.Dispose();};cW=function(cX){var cY,cZ,c0,c1;if(cK.MoveNext()){cZ=cK.get_Current();c0=cM(cZ);while(!c0?cK.MoveNext():false){cZ=cK.get_Current();c0=cM(cZ);}if(c0){cX.c=cZ;c1=true;}else{c1=false;}cY=c1;}else{cY=false;}return cY;};return g.New(null,null,cW,cU);};return h.Of(cI);},except:function(c2,c3){var c4;c4=function(){var c6,c7,c8,dd,de,df,dg,dh,dj;c6=f.Get(c3);c7=b.prototype.constructor.apply(b,[]);c8=function(c9){var c_,c$,da,db,dc;c_=a.Hash(c9);c$=c7[c_];if(a.Equals(c$,undefined)){c7[c_]=[c9];da=true;}else{if(k.contains(c9,c$)){db=false;}else{dc=c$.push(c9);db=true;}da=db;}return da;};dd=f.Get(c2);try{while(dd.MoveNext()){df=dd.get_Current();dg=c8(df);}}finally{dd.Dispose!=undefined?dd.Dispose():null;}dh=function(){return c6.Dispose();};dj=function(dk){var dl,dm,dn,_do;if(c6.MoveNext()){dm=c6.get_Current();dn=c8(dm);while(!dn?c6.MoveNext():false){dm=c6.get_Current();dn=c8(dm);}if(dn){dk.c=dm;_do=true;}else{_do=false;}dl=_do;}else{dl=false;}return dl;};return g.New(null,null,dj,dh);};return h.Of(c4);},groupBy:function(dp,dq){return i.delay(function(){var ds,dt,du,dv,dw,dx,dy,dz;ds={};dt={};du=[];dv=f.Get(dq);try{while(dv.MoveNext()){dx=dv.get_Current();dy=dp(dx);dz=a.Hash(dy);!ds.hasOwnProperty(dz)?du.push(dy):null;dt[dz]=dy;ds.hasOwnProperty(dz)?ds[dz].push(dx):void(ds[dz]=[dx]);}dw=c.map(function(dA){return[dA,ds[a.Hash(dA)]];},du);}finally{dv.Dispose!=undefined?dv.Dispose():null;}return dw;});},insufficient:function(){return d.FailWith("The input sequence has an insufficient number of elements.");},last:function(dB){var dC,dD,dE,dF;dC=f.Get(dB);try{dE=dC.MoveNext();if(!dE){dF=j.insufficient();}else{while(dC.MoveNext()){}dF=dC.get_Current();}dD=dF;}finally{dC.Dispose!=undefined?dC.Dispose():null;}return dD;},nonNegative:function(){return d.FailWith("The input must be non-negative.");},pairwise:function(dG){var dH,dJ;dH=function(dI){return[c.get(dI,0),c.get(dI,1)];};dJ=j.windowed(2,dG);return i.map(dH,dJ);},truncate:function(dK,dL){return i.delay(function(){return i.enumUsing(f.Get(dL),function(dN){var dO;dO=[0];return i.enumWhile(function(){return dN.MoveNext()?dO[0]<dK:false;},i.delay(function(){l.incr(dO);return[dN.get_Current()];}));});});},tryHead:function(dR){var dS,dT;dS=f.Get(dR);try{dT=dS.MoveNext()?{$:1,$0:dS.get_Current()}:{$:0};}finally{dS.Dispose!=undefined?dS.Dispose():null;}return dT;},tryItem:function(dU,dV){var dW,dX,dY,dZ,d0;if(dU<0){dW={$:0};}else{dX=0;dY=f.Get(dV);try{d0=true;while(d0?dX<=dU:false){dY.MoveNext()?dX=dX+1:d0=false;}dZ=d0?{$:1,$0:dY.get_Current()}:{$:0};}finally{dY.Dispose!=undefined?dY.Dispose():null;}dW=dZ;}return dW;},tryLast:function(d1){var d2,d3,d4;d2=f.Get(d1);try{if(d2.MoveNext()){while(d2.MoveNext()){}d4={$:1,$0:d2.get_Current()};}else{d4={$:0};}d3=d4;}finally{d2.Dispose!=undefined?d2.Dispose():null;}return d3;},unfold:function(d5,d6){var d7;d7=function(){var d9;d9=function(d_){var d$,ea,eb,ec;d$=d5(d_.s);if(d$.$==0){ea=false;}else{eb=d$.$0[0];ec=d$.$0[1];d_.c=eb;d_.s=ec;ea=true;}return ea;};return g.New(d6,null,d9,function(){});};return h.Of(d7);},windowed:function(ee,ef){ee<=0?d.FailWith("The input must be positive."):null;return i.delay(function(){return i.enumUsing(f.Get(ef),function(eh){var ei;ei=[];return i.append(i.enumWhile(function(){return ei.length<ee?eh.MoveNext():false;},i.delay(function(){ei.push(eh.get_Current());return i.empty();})),i.delay(function(){return ei.length===ee?i.append([ei.slice(0)],i.delay(function(){return i.enumWhile(function(){return eh.MoveNext();},i.delay(function(){ei.shift();ei.push(eh.get_Current());return[ei.slice(0)];}));})):i.empty();}));});});}},WebSharper:{Activator:{Activate:$.Field(function(){var ep,eq;if(m.hasDocument()){eq=n.getElementById("websharper-data");ep=eq?o(n).ready(function(){var es,et,eu,eA;es=eq.getAttribute("content");et=p.Activate(q.parse(es));eu=function(ev){var ew,ex,ey,ez;ew=ev[0];ex=ev[1];ey=ex.get_Body();ez=n.getElementById(ew);return ey.ReplaceInDom(ez);};eA=s.GetFields(et);return c.iter(eu,eA);}):null;}else{ep=null;}return ep;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},AggregateException:$.Class({},{New:function(eB){return $.New(this,t.New1("One or more errors occurred.",eB));},New1:function(eC){return $.New(this,u.New1(eC));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,v.New1("Value does not fall within the expected range."));},New1:function(eE){return $.New(this,u.New1(eE));}}),Arrays:{average:function(eF){return w(c.sum(eF))/w(eF.length);},averageBy:function(eG,eH){return w(c.sumBy(eG,eH))/w(eH.length);},blit:function(eI,eJ,eK,eL,eM){var eN;c.checkRange(eI,eJ,eM);c.checkRange(eK,eL,eM);for(eN=0;eN<=eM-1;eN++){c.set(eK,eL+eN,c.get(eI,eJ+eN));}return;},checkBounds:function(eO,eP){return(eP<0?true:eP>=eO.length)?d.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(eQ,eR,eS){return(((eR<0?true:eS<0)?true:eR>=eQ.length)?true:eS>=(eQ.length?eQ[0].length:0))?d.Raise(x.New()):null;},checkLength:function(eT,eU){return eT.length!==eU.length?d.FailWith("Arrays differ in length."):null;},checkRange:function(eV,eW,eX){return((eX<0?true:eW<0)?true:eV.length<eW+eX)?d.FailWith("Index was outside the bounds of the array."):null;},choose:function(eY,eZ){var e0,e1,e2,e3,e4;e0=[];for(e1=0;e1<=eZ.length-1;e1++){e2=eY(c.get(eZ,e1));if(e2.$==0){e3=null;}else{e4=e2.$0;e3=e0.push(e4);}}return e0;},chunkBySize:function(e5,e6){var e7;e7=j.chunkBySize(e5,e6);return i.toArray(e7);},collect:function(e8,e9){return b.prototype.concat.apply([],c.map(e8,e9));},compareWith:function(e_,e$,fa){return j.compareWith(e_,e$,fa);},concat:function(fb){return b.prototype.concat.apply([],c.ofSeq(fb));},contains:function(fc,fd){return j.contains(fc,fd);},countBy:function(fe,ff){var fg;fg=j.countBy(fe,ff);return i.toArray(fg);},create:function(fh,fi){var fj,fk;fj=b(fh);for(fk=0;fk<=fh-1;fk++){c.set(fj,fk,fi);}return fj;},create2D:function(fl){var fm,fo,fp;fm=function(fn){return c.ofSeq(fn);};fo=i.map(fm,fl);fp=c.ofSeq(fo);fp.dims=2;return fp;},distinct:function(fq){var fr;fr=j.distinct(fq);return i.toArray(fr);},distinctBy:function(fs,ft){var fu;fu=j.distinctBy(fs,ft);return i.toArray(fu);},exactlyOne:function(fv){return c.length(fv)===1?c.get(fv,0):d.FailWith("The input does not have precisely one element.");},except:function(fw,fx){var fy;fy=j.except(fw,fx);return i.toArray(fy);},exists2:function(fz,fA,fB){c.checkLength(fA,fB);return i.exists2(fz,fA,fB);},fill:function(fC,fD,fE,fF){var fG;c.checkRange(fC,fD,fE);for(fG=fD;fG<=fD+fE-1;fG++){c.set(fC,fG,fF);}return;},filter:function(fH,fI){var fJ,fK;fJ=[];for(fK=0;fK<=fI.length-1;fK++){fH(c.get(fI,fK))?fJ.push(c.get(fI,fK)):null;}return fJ;},find:function(fL,fM){var fN,fO,fP;fN=c.tryFind(fL,fM);if(fN.$==0){fO=d.FailWith("KeyNotFoundException");}else{fP=fN.$0;fO=fP;}return fO;},findBack:function(fQ,fR){var fS,fT,fU;fS=k.tryFindBack(fQ,fR);if(fS.$==0){fT=d.FailWith("KeyNotFoundException");}else{fU=fS.$0;fT=fU;}return fT;},findINdex:function(fV,fW){var fX,fY,fZ;fX=c.tryFindIndex(fV,fW);if(fX.$==0){fY=d.FailWith("KeyNotFoundException");}else{fZ=fX.$0;fY=fZ;}return fY;},findIndexBack:function(f0,f1){var f2,f3,f4;f2=k.tryFindIndexBack(f0,f1);if(f2.$==0){f3=d.FailWith("KeyNotFoundException");}else{f4=f2.$0;f3=f4;}return f3;},fold:function(f5,f6,f7){var f8,f9;f8=f6;for(f9=0;f9<=f7.length-1;f9++){f8=(f5(f8))(c.get(f7,f9));}return f8;},fold2:function(f_,f$,ga,gb){var gc,gd;c.checkLength(ga,gb);gc=f$;for(gd=0;gd<=ga.length-1;gd++){gc=((f_(gc))(c.get(ga,gd)))(c.get(gb,gd));}return gc;},foldBack:function(ge,gf,gg){var gh,gi,gj;gh=gg;gi=gf.length;for(gj=1;gj<=gi;gj++){gh=(ge(c.get(gf,gi-gj)))(gh);}return gh;},foldBack2:function(gk,gl,gm,gn){var go,gp,gq;c.checkLength(gl,gm);go=gl.length;gp=gn;for(gq=1;gq<=go;gq++){gp=((gk(c.get(gl,go-gq)))(c.get(gm,go-gq)))(gp);}return gp;},forall2:function(gr,gs,gt){c.checkLength(gs,gt);return i.forall2(gr,gs,gt);},get:function(gu,gv){c.checkBounds(gu,gv);return gu[gv];},get2D:function(gw,gx,gy){c.checkBounds2D(gw,gx,gy);return gw[gx][gy];},groupBy:function(gz,gA){var gB,gF,gG;gB=function(gC){var gD,gE;gD=gC[0];gE=gC[1];return[gD,i.toArray(gE)];};gF=j.groupBy(gz,gA);gG=i.toArray(gF);return c.map(gB,gG);},head:function(gH){return e.head(e.ofArray(gH));},indexed:function(gI){return c.mapi(function(gJ){return function(gK){return[gJ,gK];};},gI);},init:function(gL,gM){var gN,gO;gL<0?d.FailWith("Negative size given."):null;gN=b(gL);for(gO=0;gO<=gL-1;gO++){c.set(gN,gO,gM(gO));}return gN;},iter:function(gP,gQ){var gR;for(gR=0;gR<=gQ.length-1;gR++){gP(c.get(gQ,gR));}return;},iter2:function(gS,gT,gU){var gV;c.checkLength(gT,gU);for(gV=0;gV<=gT.length-1;gV++){(gS(c.get(gT,gV)))(c.get(gU,gV));}return;},iteri:function(gW,gX){var gY;for(gY=0;gY<=gX.length-1;gY++){(gW(gY))(c.get(gX,gY));}return;},iteri2:function(gZ,g0,g1){var g2;c.checkLength(g0,g1);for(g2=0;g2<=g0.length-1;g2++){((gZ(g2))(c.get(g0,g2)))(c.get(g1,g2));}return;},last:function(g3){return j.last(g3);},length:function(g4){var g5;g5=g4.dims;return g5===2?g4.length*g4.length:g4.length;},map:function(g6,g7){var g8,g9;g8=b(g7.length);for(g9=0;g9<=g7.length-1;g9++){c.set(g8,g9,g6(c.get(g7,g9)));}return g8;},map2:function(g_,g$,ha){var hb,hc;c.checkLength(g$,ha);hb=b(ha.length);for(hc=0;hc<=ha.length-1;hc++){c.set(hb,hc,(g_(c.get(g$,hc)))(c.get(ha,hc)));}return hb;},map3:function(hd,he,hf,hg){var hh;hh=y.map3(hd,e.ofArray(he),e.ofArray(hf),e.ofArray(hg));return c.ofSeq(hh);},mapi:function(hi,hj){var hk,hl;hk=b(hj.length);for(hl=0;hl<=hj.length-1;hl++){c.set(hk,hl,(hi(hl))(c.get(hj,hl)));}return hk;},mapi2:function(hm,hn,ho){var hp,hq;c.checkLength(hn,ho);hp=b(hn.length);for(hq=0;hq<=hn.length-1;hq++){c.set(hp,hq,((hm(hq))(c.get(hn,hq)))(c.get(ho,hq)));}return hp;},max:function(hr){return c.reduce(function(hs){return function(ht){return d.Max(hs,ht);};},hr);},maxBy:function(hu,hv){return c.reduce(function(hw){return function(hx){return a.Compare(hu(hw),hu(hx))===1?hw:hx;};},hv);},min:function(hy){return c.reduce(function(hz){return function(hA){return d.Min(hz,hA);};},hy);},minBy:function(hB,hC){return c.reduce(function(hD){return function(hE){return a.Compare(hB(hD),hB(hE))===-1?hD:hE;};},hC);},nonEmpty:function(hF){return hF.length===0?d.FailWith("The input array was empty."):null;},ofSeq:function(hG){var hH,hI,hJ;hH=[];hI=f.Get(hG);try{while(hI.MoveNext()){hH.push(hI.get_Current());}hJ=hH;}finally{hI.Dispose!=undefined?hI.Dispose():null;}return hJ;},pairwise:function(hK){var hL;hL=j.pairwise(hK);return i.toArray(hL);},partition:function(hM,hN){var hO,hP,hQ;hO=[];hP=[];for(hQ=0;hQ<=hN.length-1;hQ++){hM(c.get(hN,hQ))?hO.push(c.get(hN,hQ)):hP.push(c.get(hN,hQ));}return[hO,hP];},permute:function(hR,hS){var hT,hU;hT=b(hS.length);for(hU=0;hU<=hS.length-1;hU++){c.set(hT,hR(hU),c.get(hS,hU));}return hT;},pick:function(hV,hW){var hX,hY,hZ;hX=c.tryPick(hV,hW);if(hX.$==0){hY=d.FailWith("KeyNotFoundException");}else{hZ=hX.$0;hY=hZ;}return hY;},reduce:function(h0,h1){var h2,h3;c.nonEmpty(h1);h2=c.get(h1,0);for(h3=1;h3<=h1.length-1;h3++){h2=(h0(h2))(c.get(h1,h3));}return h2;},reduceBack:function(h4,h5){var h6,h7,h8;c.nonEmpty(h5);h6=h5.length;h7=c.get(h5,h6-1);for(h8=2;h8<=h6;h8++){h7=(h4(c.get(h5,h6-h8)))(h7);}return h7;},replicate:function(h9,h_){return c.create(h9,h_);},reverse:function(h$,ia,ib){var ic;ic=c.sub(h$,ia,ib).slice().reverse();return c.blit(ic,0,h$,ia,c.length(ic));},scan:function(id,ie,_if){var ig,ih;ig=b(1+_if.length);c.set(ig,0,ie);for(ih=0;ih<=_if.length-1;ih++){c.set(ig,ih+1,(id(c.get(ig,ih)))(c.get(_if,ih)));}return ig;},scanBack:function(ii,ij,ik){var il,im,_in;il=ij.length;im=b(1+il);c.set(im,il,ik);for(_in=0;_in<=il-1;_in++){c.set(im,il-_in-1,(ii(c.get(ij,il-_in-1)))(c.get(im,il-_in)));}return im;},set:function(io,ip,iq){c.checkBounds(io,ip);io[ip]=iq;return;},set2D:function(ir,is,it,iu){c.checkBounds2D(ir,is,it);ir[is][it]=iu;return;},setSub:function(iv,iw,ix,iy){var iz;for(iz=0;iz<=ix-1;iz++){c.set(iv,iw+iz,c.get(iy,iz));}return;},setSub2D:function(iA,iB,iC,iD,iE,iF){var iG,iH;for(iG=0;iG<=iD-1;iG++){for(iH=0;iH<=iE-1;iH++){c.set2D(iA,iB+iG,iC+iH,c.get2D(iF,iG,iH));}}return;},skip:function(iI,iJ){return iI<0?j.nonNegative():iI>c.length(iJ)?j.insufficient():iJ.slice(iI);},skipWhile:function(iK,iL){var iM,iN;iM=c.length(iL);iN=0;while(iN<iM?iK(c.get(iL,iN)):false){iN=iN+1;}return iL.slice(iN);},sort:function(iO){return c.sortBy(function(iP){return iP;},iO);},sortBy:function(iQ,iR){return iR.slice().sort(function(iS,iT){return d.Compare(iQ(iS),iQ(iT));});},sortByDescending:function(iU,iV){return iV.slice().sort(function(iW,iX){return-d.Compare(iU(iW),iU(iX));});},sortDescending:function(iY){return c.sortByDescending(function(iZ){return iZ;},iY);},sortInPlace:function(i0){return c.sortInPlaceBy(function(i1){return i1;},i0);},sortInPlaceBy:function(i2,i3){return i3.sort(function(i4,i5){return d.Compare(i2(i4),i2(i5));});},sortInPlaceWith:function(i6,i7){return i7.sort(function(i8,i9){return(i6(i8))(i9);});},sortWith:function(i_,i$){return i$.slice().sort(function(ja,jb){return(i_(ja))(jb);});},splitAt:function(jc,jd){return[c.take(jc,jd),c.skip(jc,jd)];},sub:function(je,jf,jg){c.checkRange(je,jf,jg);return je.slice(jf,jf+jg);},sub2D:function(jh,ji,jj,jk,jl){var jm,jn,jo,jp,jq;jm=jk<0?0:jk;jn=jl<0?0:jl;jo=c.zeroCreate2D(jm,jn);for(jp=0;jp<=jm-1;jp++){for(jq=0;jq<=jn-1;jq++){c.set2D(jo,jp,jq,c.get2D(jh,ji+jp,jj+jq));}}return jo;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tail:function(jr){return c.skip(1,jr);},take:function(js,jt){return js<0?j.nonNegative():js>c.length(jt)?j.insufficient():jt.slice(0,js);},takeWhile:function(ju,jv){var jw,jx;jw=c.length(jv);jx=0;while(jx<jw?ju(c.get(jv,jx)):false){jx=jx+1;}return jv.slice(0,jx);},truncate:function(jy,jz){return jz.slice(jy);},tryFind:function(jA,jB){var jC,jD;jC={$:0};jD=0;while(jD<jB.length?jC.$==0:false){jA(c.get(jB,jD))?jC={$:1,$0:c.get(jB,jD)}:null;jD=jD+1;}return jC;},tryFindIndex:function(jE,jF){var jG,jH;jG={$:0};jH=0;while(jH<jF.length?jG.$==0:false){jE(c.get(jF,jH))?jG={$:1,$0:jH}:null;jH=jH+1;}return jG;},tryHead:function(jI){return c.length(jI)===0?{$:0}:{$:1,$0:jI[0]};},tryItem:function(jJ,jK){return(c.length(jK)<=jJ?true:jJ<0)?{$:0}:{$:1,$0:jK[jJ]};},tryLast:function(jL){var jM;jM=c.length(jL);return jM===0?{$:0}:{$:1,$0:jL[jM-1]};},tryPick:function(jN,jO){var jP,jQ,jR;jP={$:0};jQ=0;while(jQ<jO.length?jP.$==0:false){jR=jN(c.get(jO,jQ));jR.$==1?jP=jR:null;jQ=jQ+1;}return jP;},unfold:function(jS,jT){var jU;jU=j.unfold(jS,jT);return i.toArray(jU);},unzip:function(jV){var jW,jX,jY,jZ,j0,j1;jW=[];jX=[];for(jY=0;jY<=jV.length-1;jY++){jZ=c.get(jV,jY);j0=jZ[1];j1=jZ[0];jW.push(j1);jX.push(j0);}return[jW,jX];},unzip3:function(j2){var j3,j4,j5,j6,j7,j8,j9,j_;j3=[];j4=[];j5=[];for(j6=0;j6<=j2.length-1;j6++){j7=c.get(j2,j6);j8=j7[2];j9=j7[1];j_=j7[0];j3.push(j_);j4.push(j9);j5.push(j8);}return[j3,j4,j5];},windowed:function(j$,ka){var kb;kb=j.windowed(j$,ka);return i.toArray(kb);},zeroCreate2D:function(kc,kd){var ke;ke=c.init(kc,function(){return b(kd);});ke.dims=2;return ke;},zip:function(kg,kh){var ki,kj;c.checkLength(kg,kh);ki=b(kg.length);for(kj=0;kj<=kg.length-1;kj++){c.set(ki,kj,[c.get(kg,kj),c.get(kh,kj)]);}return ki;},zip3:function(kk,kl,km){var kn,ko;c.checkLength(kk,kl);c.checkLength(kl,km);kn=b(kk.length);for(ko=0;ko<=kk.length-1;ko++){c.set(kn,ko,[c.get(kk,ko),c.get(kl,ko),c.get(km,ko)]);}return kn;}},Arrays2D:{copy:function(kp){return z.init(kp.length,kp.length?kp[0].length:0,function(kq){return function(kr){return c.get2D(kp,kq,kr);};});},init:function(ks,kt,ku){var kv,kw,kx;kv=c.zeroCreate2D(ks,kt);for(kw=0;kw<=ks-1;kw++){for(kx=0;kx<=kt-1;kx++){c.set2D(kv,kw,kx,(ku(kw))(kx));}}return kv;},iter:function(ky,kz){var kA,kB,kC,kD;kA=kz.length;kB=kz.length?kz[0].length:0;for(kC=0;kC<=kA-1;kC++){for(kD=0;kD<=kB-1;kD++){ky(c.get2D(kz,kC,kD));}}return;},iteri:function(kE,kF){var kG,kH,kI,kJ;kG=kF.length;kH=kF.length?kF[0].length:0;for(kI=0;kI<=kG-1;kI++){for(kJ=0;kJ<=kH-1;kJ++){((kE(kI))(kJ))(c.get2D(kF,kI,kJ));}}return;},map:function(kK,kL){return z.init(kL.length,kL.length?kL[0].length:0,function(kM){return function(kN){return kK(c.get2D(kL,kM,kN));};});},mapi:function(kO,kP){return z.init(kP.length,kP.length?kP[0].length:0,function(kQ){return function(kR){return((kO(kQ))(kR))(c.get2D(kP,kQ,kR));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return A.GetCT();},get_DefaultCancellationToken:function(){return(A.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var kS,kT,kX,kY;if(!this.c){this.c=true;kT=function(kU){var kV,kW;try{kU(null);kV={$:0};}catch(kW){kV={$:1,$0:kW};}return kV;};kX=this.r;kY=c.choose(kT,kX);kS=c.length(kY)>0?d.Raise(t.New(kY)):null;}else{kS=null;}return kS;},Cancel1:function(kZ){var k0,k1,k2,k4;if(!kZ){k0=this.Cancel();}else{if(!this.c){this.c=true;k2=function(k3){return k3(null);};k4=this.r;k1=c.iter(k2,k4);}else{k1=null;}k0=k1;}return k0;},CancelAfter:function(k5){var k6,k7,k9,k$=this;if(!this.c){k7=this.pending;B.iter(function(k8){return C(k8);},k7);k9=D(function(){return k$.Cancel();},k5);k6=void(this.pending={$:1,$0:k9});}else{k6=null;}return k6;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(la,lb){return E.CreateLinkedTokenSource1([la,lb]);},CreateLinkedTokenSource1:function(lc){var ld,le;ld=E.New();le=function(lf){var lg;lg=A.Register(lf,function(){return function(){return ld.Cancel();}();});return;};return c.iter(le,lc);},New:function(){var lj;lj=$.New(this,{});lj.c=false;lj.pending={$:0};lj.r=[];return lj;}}),Char:$.Class({},{GetNumericValue:function(lk){return(lk>=48?lk<=57:false)?w(lk)-w(48):-1;},IsControl:function(ll){return(ll>=0?ll<=31:false)?true:ll>=128?ll<=159:false;},IsDigit:function(lm){return lm>=48?lm<=57:false;},IsLetter:function(ln){return(ln>=65?ln<=90:false)?true:ln>=97?ln<=122:false;},IsLetterOrDigit:function(lo){return F.IsLetter(lo)?true:F.IsDigit(lo);},IsLower:function(lp){return lp>=97?lp<=122:false;},IsUpper:function(lq){return lq>=65?lq<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(lr){return lr.length===1?lr.charCodeAt(0):d.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(ls){var lt;lt=function(lu){var lv,lw,lx,ly,lz,lA;lv=function(){return G.subscribeTo(ls,function(lC){var lD;H.Force(lw).Dispose();H.Force(ly).Dispose();lD=function(){return lu.k.call(null,{$:0,$0:lC});};return A.scheduler().Fork(lD);});};lw=H.Create(lv);lx=function(){return A.Register(lu.ct,function(){var lH;H.Force(lw).Dispose();lH=function(){return lu.k.call(null,{$:2,$0:I.New()});};return A.scheduler().Fork(lH);});};ly=H.Create(lx);lz=H.Force(lw);lA=H.Force(ly);return null;};return A.checkCancel(lt);},Bind:function(lJ,lK){var lL;lL=function(lM){return lJ({k:function(lN){var lO,lP,lQ,lU;if(lN.$==0){lP=lN.$0;lQ=function(){var lS,lT;try{lS=(lK(lP))(lM);}catch(lT){lS=lM.k.call(null,{$:1,$0:lT});}return lS;};lO=A.scheduler().Fork(lQ);}else{lU=function(){return lM.k.call(null,lN);};lO=A.scheduler().Fork(lU);}return lO;},ct:lM.ct});};return A.checkCancel(lL);},Catch:function(lW){var lX;lX=function(lY){var lZ,l4;try{lZ=lW({k:function(l0){var l1,l2,l3;if(l0.$==0){l2=l0.$0;l1=lY.k.call(null,{$:0,$0:{$:0,$0:l2}});}else{if(l0.$==1){l3=l0.$0;l1=lY.k.call(null,{$:0,$0:{$:1,$0:l3}});}else{l1=lY.k.call(null,l0);}}return l1;},ct:lY.ct});}catch(l4){lZ=lY.k.call(null,{$:0,$0:{$:1,$0:l4}});}return lZ;};return A.checkCancel(lX);},Combine:function(l5,l6){return A.Bind(l5,function(){return l6;});},Delay:function(l8){var l9;l9=function(l_){var l$,ma;try{l$=(l8(null))(l_);}catch(ma){l$=l_.k.call(null,{$:1,$0:ma});}return l$;};return A.checkCancel(l9);},For:function(mb,mc){return A.Using(f.Get(mb),function(md){return A.While(function(){return md.MoveNext();},A.Delay(function(){return mc(md.get_Current());}));});},FromContinuations:function(mg){var mh;mh=function(mi){var mj,mk;mj=[false];mk=function(ml){var mm;if(mj[0]){mm=d.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{mj[0]=true;mm=A.scheduler().Fork(ml);}return mm;};return mg([function(mn){return mk(function(){return mi.k.call(null,{$:0,$0:mn});});},function(mp){return mk(function(){return mi.k.call(null,{$:1,$0:mp});});},function(mr){return mk(function(){return mi.k.call(null,{$:2,$0:mr});});}]);};return A.checkCancel(mh);},GetCT:$.Field(function(){var mt;mt=function(mu){return mu.k.call(null,{$:0,$0:mu.ct});};return A.checkCancel(mt);}),Ignore:function(mv){return A.Bind(mv,function(){return A.Return(null);});},OnCancel:function(mx){var my;my=function(mz){return mz.k.call(null,{$:0,$0:A.Register(mz.ct,mx)});};return A.checkCancel(my);},Parallel:function(mA){var mB,mC,mD;mB=c.ofSeq(mA);if(c.length(mB)===0){mC=A.Return([]);}else{mD=function(mE){var mF,mG,mH,mI;mF=mB.length;mG=[mF];mH=c.create(mF,undefined);mI=function(mJ){return function(mK){var mL,mM,mN,mO,mP,mQ,mR,mS,mT;mL=[mG[0],mK];if(mL[0]===0){mM=null;}else{if(mL[0]===1){if(mL[1].$==0){mO=mL[1].$0;c.set(mH,mJ,mO);mG[0]=0;mN=mE.k.call(null,{$:0,$0:mH});}else{mL[0];mP=mL[1];mG[0]=0;mN=mE.k.call(null,mP);}mM=mN;}else{if(mL[1].$==0){mR=mL[1].$0;mS=mL[0];c.set(mH,mJ,mR);mQ=void(mG[0]=mS-1);}else{mL[0];mT=mL[1];mG[0]=0;mQ=mE.k.call(null,mT);}mM=mQ;}}return mM;};};return c.iteri(function(mU){return function(mV){var mW;mW=function(){return mV({k:mI(mU),ct:mE.ct});};return A.scheduler().Fork(mW);};},mB);};mC=A.checkCancel(mD);}return mC;},Register:function(mY,mZ){var m0;m0=mY.r.push(mZ)-1;return{Dispose:function(){return c.set(mY.r,m0,function(){});}};},Return:function(m3){var m4;m4=function(m5){return m5.k.call(null,{$:0,$0:m3});};return A.checkCancel(m4);},Scheduler:$.Class({Fork:function(m6){var m7,m8,m_=this;this.robin.push(m6);if(this.idle){this.idle=false;m8=D(function(){return m_.tick();},0);m7=void m8;}else{m7=null;}return m7;},tick:function(){var m$,na,nb,nc,nd,ne,ng=this;m$=J.now();na=true;while(na){nb=this.robin.length;if(nb===0){this.idle=true;nc=na=false;}else{(this.robin.shift())(null);if(J.now()-m$>40){ne=D(function(){return ng.tick();},0);nd=na=false;}else{nd=null;}nc=nd;}}return;}},{New:function(){var nh;nh=$.New(this,{});nh.idle=true;nh.robin=[];return nh;}}),Sleep:function(ni){var nj;nj=function(nk){var nl,nm,nn,no,np,nq;nl=function(){return D(function(){var nt;H.Force(no).Dispose();nt=function(){return nk.k.call(null,{$:0,$0:null});};return A.scheduler().Fork(nt);},ni);};nm=H.Create(nl);nn=function(){return A.Register(nk.ct,function(){var nx;C(H.Force(nm));nx=function(){return nk.k.call(null,{$:2,$0:I.New()});};return A.scheduler().Fork(nx);});};no=H.Create(nn);np=H.Force(nm);nq=H.Force(no);return null;};return A.checkCancel(nj);},Start:function(nz,nA){return A.StartWithContinuations(nz,function(){},function(nC){var nD;nD=[nC];return K?K.log.apply(K,["WebSharper: Uncaught asynchronous exception"].concat(nD)):undefined;},function(){},nA);},StartChild:function(nF){var nG;nG=function(nH){var nI,nJ,nK,nN,nS;nI=[{$:0}];nJ=[];nK=function(){return nF({k:function(nM){nI[0]={$:1,$0:nM};while(nJ.length>0){(nJ.shift())(nM);}return;},ct:nH.ct});};A.scheduler().Fork(nK);nN=function(nO){var nP,nQ,nR;nP=nI[0];if(nP.$==0){nQ=nJ.push(nO.k);}else{nR=nP.$0;nQ=nO.k.call(null,nR);}return nQ;};nS=A.checkCancel(nN);return nH.k.call(null,{$:0,$0:nS});};return A.checkCancel(nG);},StartWithContinuations:function(nT,nU,nV,nW,nX){var nY,nZ;nY=d.DefaultArg(nX,(A.defCTS())[0]);nZ=function(){return nT({k:function(n1){var n2,n3,n4,n5;if(n1.$==1){n3=n1.$0;n2=nV(n3);}else{if(n1.$==2){n4=n1.$0;n2=nW(n4);}else{n5=n1.$0;n2=nU(n5);}}return n2;},ct:nY});};return A.scheduler().Fork(nZ);},TryCancelled:function(n6,n7){var n8;n8=function(n9){return n6({k:function(n_){var n$,oa;if(n_.$==2){oa=n_.$0;n7(oa);n$=n9.k.call(null,n_);}else{n$=n9.k.call(null,n_);}return n$;},ct:n9.ct});};return A.checkCancel(n8);},TryFinally:function(ob,oc){var od;od=function(oe){return ob({k:function(of){var og,oh;try{oc(null);og=oe.k.call(null,of);}catch(oh){og=oe.k.call(null,{$:1,$0:oh});}return og;},ct:oe.ct});};return A.checkCancel(od);},TryWith:function(oi,oj){var ok;ok=function(ol){return oi({k:function(om){var on,oo,op,oq,or;if(om.$==0){oo=om.$0;on=ol.k.call(null,{$:0,$0:oo});}else{if(om.$==1){op=om.$0;try{oq=(oj(op))(ol);}catch(or){oq=ol.k.call(null,om);}on=oq;}else{on=ol.k.call(null,om);}}return on;},ct:ol.ct});};return A.checkCancel(ok);},Using:function(os,ot){return A.TryFinally(ot(os),function(){return os.Dispose();});},While:function(ov,ow){return ov(null)?A.Bind(ow,function(){return A.While(ov,ow);}):A.Return(null);},checkCancel:function(oy){return function(oz){return oz.ct.c?oz.k.call(null,{$:2,$0:I.New()}):oy(oz);};},defCTS:$.Field(function(){return[E.New()];}),scheduler:$.Field(function(){return L.New();})},Control:{createEvent:function(oA,oB,oC){return{AddHandler:oA,RemoveHandler:oB,Subscribe:function(oD){var oE;oE=oC(function(){return function(oG){return oD.OnNext.call(null,oG);};});oA(oE);return{Dispose:function(){return oB(oE);}};}};}},DateTimeHelpers:{AddMonths:function(oI,oJ){var oK;oK=new J(oI);return(new J(oK.getFullYear(),oK.getMonth()+oJ,oK.getDate(),oK.getHours(),oK.getMinutes(),oK.getSeconds(),oK.getMilliseconds())).getTime();},AddYears:function(oL,oM){var oN;oN=new J(oL);return(new J(oN.getFullYear()+oM,oN.getMonth(),oN.getDate(),oN.getHours(),oN.getMinutes(),oN.getSeconds(),oN.getMilliseconds())).getTime();},DatePortion:function(oO){var oP;oP=new J(oO);return(new J(oP.getFullYear(),oP.getMonth(),oP.getDate())).getTime();},LongDate:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});},LongTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});},Parse:function(oQ){var oR;oR=J.parse(oQ);return $$.isNaN(oR)?d.FailWith("Failed to parse date string."):oR;},ShortTime:function($d){var $0=this,$this=this;return(new $$.Date($d)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});},TimePortion:function(oS){var oT;oT=new J(oS);return(((24*0+oT.getHours())*60+oT.getMinutes())*60+oT.getSeconds())*1000+oT.getMilliseconds();}},Enumerable:{Of:function(oU){return{GetEnumerator:oU};}},Enumerator:{Get:function(oV){return oV instanceof $$.Array?g.New(0,null,function(oW){var oX,oY;oX=oW.s;if(oX<c.length(oV)){oW.c=c.get(oV,oX);oW.s=oX+1;oY=true;}else{oY=false;}return oY;},function(){}):a.Equals(typeof oV,"string")?g.New(0,null,function(o0){var o1,o2;o1=o0.s;if(o1<oV.length){o0.c=oV.charCodeAt(o1);o0.s=o1+1;o2=true;}else{o2=false;}return o2;},function(){}):oV.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(o4,o5,o6,o7){var o8;o8=$.New(this,{});o8.s=o4;o8.c=o5;o8.n=o6;o8.d=o7;return o8;}})},Exception:$.Class({},{New:function(){return $.New(this,u.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(o9){return N.New(o9);},SingleNode:$.Class({ReplaceInDom:function(o_){var o$;o$=this.node.parentNode.replaceChild(this.node,o_);return;}},{New:function(pa){var pb;pb=$.New(this,{});pb.node=pa;return pb;}})},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,x.New1("Index was outside the bounds of the array."));},New1:function(pc){return $.New(this,u.New1(pc));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,O.New1("Operation is not valid due to the current state of the object."));},New1:function(pd){return $.New(this,u.New1(pd));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(pe){var pf,pg,ph,pi,pj,pk;pf={};pg=f.Get(pe);try{while(pg.MoveNext()){pi=pg.get_Current();pj=pi[1];pk=pi[0];pf[pk]=pj;}}finally{pg.Dispose!=undefined?pg.Dispose():null;}return pf;}}},Json:{Activate:function(pl){var pm,pn,po;pm=pl.$TYPES;for(pn=0;pn<=c.length(pm)-1;pn++){c.set(pm,pn,p.lookup(c.get(pm,pn)));}po=function(pp){var pq,pr,ps,pt,pu,pv,pw,px;if(a.Equals(pp,null)){pq=pp;}else{pr=typeof pp;if(pr==="object"){if(pp instanceof $$.Array){pt=p.shallowMap(po,pp);}else{pu=p.shallowMap(po,pp.$V);pv=pp.$T;if(a.Equals(typeof pv,"undefined")){pw=pu;}else{px=new(c.get(pm,pv))();s.ForEach(pu,function(py){px[py]=pu[py];return false;});pw=px;}pt=pw;}ps=pt;}else{ps=pp;}pq=ps;}return pq;};return po(pl.$DATA);},lookup:function(pz){var pA,pB,pC,pD,pE,pF;pA=c.length(pz);pB=$$;pC=0;while(pC<pA){pD=c.get(pz,pC);pE=pB[pD];if(!a.Equals(typeof pE,undefined)){pB=pE;pF=pC=pC+1;}else{pF=d.FailWith("Invalid server reply. Failed to find type: "+pD);}}return pB;},shallowMap:function(pG,pH){var pI,pJ,pK,pL;if(pH instanceof $$.Array){pI=c.map(pG,pH);}else{pJ=typeof pH;if(pJ==="object"){pL={};s.ForEach(pH,function(pM){pL[pM]=pG(pH[pM]);return false;});pK=pL;}else{pK=pH;}pI=pK;}return pI;}},Lazy:{Create:function(pN){var pO,pP;pO={value:undefined,created:false,eval:pN};pP=function(){var pR;if(pO.created){pR=pO.value;}else{pO.created=true;pO.value=pN(null);pR=pO.value;}return pR;};pO.eval=pP;return pO;},CreateFromValue:function(pS){return{value:pS,created:true,eval:function(){return pS;},eval:function(){return pS;}};},Force:function(pV){return pV.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return g.New(this,null,function(pW){var pX,pY,pZ,p0;pX=pW.s;if(pX.$==0){pY=false;}else{pZ=pX.$1;p0=pX.$0;pW.c=p0;pW.s=pZ;pY=true;}return pY;},function(){});},GetSlice:function(p2,p3){var p4,p5,p6,p7,p8,p9,p_,p$,qa,qb,qc,qd,qe;p4=[p2,p3];if(p4[0].$==1){if(p4[1].$==1){p7=p4[0].$0;p8=p4[1].$0;p9=p8-p7+1;p_=y.skip(p7,this);p$=i.take(p9,p_);p6=e.ofSeq(p$);}else{qa=p4[0].$0;p6=y.skip(qa,this);}p5=p6;}else{if(p4[1].$==1){qc=p4[1].$0;qd=qc+1;qe=i.take(qd,this);qb=e.ofSeq(qe);}else{qb=this;}p5=qb;}return p5;},get_Item:function(qf){return i.nth(qf,this);},get_Length:function(){return i.length(this);}},{Construct:function(qg,qh){return $.New(P,{$:1,$0:qg,$1:qh});},get_Nil:function(){return $.New(P,{$:0});}}),append:function(qi,qj){return e.ofSeq(i.append(qi,qj));},choose:function(qk,ql){return e.ofSeq(i.choose(qk,ql));},chunkBySize:function(qm,qn){var qo,qq,qr;qo=function(qp){return e.ofArray(qp);};qq=j.chunkBySize(qm,qn);qr=i.toList(qq);return e.map(qo,qr);},collect:function(qs,qt){return e.ofSeq(i.collect(qs,qt));},compareWith:function(qu,qv,qw){return j.compareWith(qu,qv,qw);},concat:function(qx){return e.ofSeq(i.concat(qx));},contains:function(qy,qz){return j.contains(qy,qz);},countBy:function(qA,qB){var qC;qC=j.countBy(qA,qB);return i.toList(qC);},distinct:function(qD){var qE;qE=j.distinct(qD);return i.toList(qE);},distinctBy:function(qF,qG){var qH;qH=j.distinctBy(qF,qG);return i.toList(qH);},exactlyOne:function(qI){var qJ,qK,qL;if(qI.$==1){if(qI.$1.$==0){qL=qI.$0;qK=qL;}else{qK=d.FailWith("The input does not have precisely one element.");}qJ=qK;}else{qJ=d.FailWith("The input does not have precisely one element.");}return qJ;},except:function(qM,qN){var qO;qO=j.except(qM,qN);return i.toList(qO);},exists2:function(qP,qQ,qR){return c.exists2(qP,c.ofSeq(qQ),c.ofSeq(qR));},filter:function(qS,qT){return e.ofSeq(i.filter(qS,qT));},findBack:function(qU,qV){var qW,qX,qY;qW=e.tryFindBack(qU,qV);if(qW.$==0){qX=d.FailWith("KeyNotFoundException");}else{qY=qW.$0;qX=qY;}return qX;},findIndexBack:function(qZ,q0){var q1,q2,q3;q1=k.tryFindIndexBack(qZ,c.ofSeq(q0));if(q1.$==0){q2=d.FailWith("KeyNotFoundException");}else{q3=q1.$0;q2=q3;}return q2;},fold2:function(q4,q5,q6,q7){return c.fold2(q4,q5,c.ofSeq(q6),c.ofSeq(q7));},foldBack:function(q8,q9,q_){return c.foldBack(q8,c.ofSeq(q9),q_);},foldBack2:function(q$,ra,rb,rc){return c.foldBack2(q$,c.ofSeq(ra),c.ofSeq(rb),rc);},forall2:function(rd,re,rf){return c.forall2(rd,c.ofSeq(re),c.ofSeq(rf));},groupBy:function(rg,rh){var ri,rm,rn;ri=function(rj){var rk,rl;rk=rj[0];rl=rj[1];return[rk,i.toList(rl)];};rm=j.groupBy(rg,rh);rn=i.toList(rm);return e.map(ri,rn);},head:function(ro){var rp,rq;if(ro.$==1){rq=ro.$0;rp=rq;}else{rp=d.FailWith("The input list was empty.");}return rp;},indexed:function(rr){return e.mapi(function(rs){return function(rt){return[rs,rt];};},rr);},init:function(ru,rv){return e.ofArray(c.init(ru,rv));},iter2:function(rw,rx,ry){return c.iter2(rw,c.ofSeq(rx),c.ofSeq(ry));},iteri2:function(rz,rA,rB){return c.iteri2(rz,c.ofSeq(rA),c.ofSeq(rB));},last:function(rC){return j.last(rC);},map:function(rD,rE){return e.ofSeq(i.map(rD,rE));},map2:function(rF,rG,rH){return e.ofArray(c.map2(rF,c.ofSeq(rG),c.ofSeq(rH)));},mapFold:function(rI,rJ,rK){var rL,rM,rN;rL=k.mapFold(rI,rJ,c.ofSeq(rK));rM=rL[0];rN=rL[1];return[e.ofArray(rM),rN];},mapFoldBack:function(rO,rP,rQ){var rR,rS,rT;rR=k.mapFoldBack(rO,c.ofSeq(rP),rQ);rS=rR[0];rT=rR[1];return[e.ofArray(rS),rT];},mapi:function(rU,rV){return e.ofSeq(i.mapi(rU,rV));},mapi2:function(rW,rX,rY){return e.ofArray(c.mapi2(rW,c.ofSeq(rX),c.ofSeq(rY)));},max:function(rZ){return i.reduce(function(r0){return function(r1){return d.Max(r0,r1);};},rZ);},maxBy:function(r2,r3){return i.reduce(function(r4){return function(r5){return a.Compare(r2(r4),r2(r5))===1?r4:r5;};},r3);},min:function(r6){return i.reduce(function(r7){return function(r8){return d.Min(r7,r8);};},r6);},minBy:function(r9,r_){return i.reduce(function(r$){return function(sa){return a.Compare(r9(r$),r9(sa))===-1?r$:sa;};},r_);},ofArray:function(sb){var sc,sd;sc=$.New(P,{$:0});for(sd=0;sd<=c.length(sb)-1;sd++){sc=$.New(P,{$:1,$0:c.get(sb,c.length(sb)-sd-1),$1:sc});}return sc;},ofSeq:function(se){var sf,sg,sh,si,sj;sf=$.New(P,{$:0});sg=sf;sh=f.Get(se);try{while(sh.MoveNext()){sg.$=1;sj=$.New(P,{$:0});sg.$0=sh.get_Current();sg.$1=sj;sg=sj;}sg.$=0;si=sf;}finally{sh.Dispose!=undefined?sh.Dispose():null;}return si;},pairwise:function(sk){var sl;sl=j.pairwise(sk);return i.toList(sl);},partition:function(sm,sn){var so,sp,sq;so=c.partition(sm,c.ofSeq(sn));sp=so[1];sq=so[0];return[e.ofArray(sq),e.ofArray(sp)];},permute:function(sr,ss){return e.ofArray(c.permute(sr,c.ofSeq(ss)));},reduceBack:function(st,su){return c.reduceBack(st,c.ofSeq(su));},replicate:function(sv,sw){return e.ofArray(c.create(sv,sw));},rev:function(sx){var sy;sy=c.ofSeq(sx);sy.reverse();return e.ofArray(sy);},scan:function(sz,sA,sB){return e.ofSeq(i.scan(sz,sA,sB));},scanBack:function(sC,sD,sE){return e.ofArray(c.scanBack(sC,c.ofSeq(sD),sE));},singleton:function(sF){return e.ofArray([sF]);},sort:function(sG){var sH;sH=c.ofSeq(sG);c.sortInPlace(sH);return e.ofArray(sH);},sortBy:function(sI,sJ){return e.sortWith(function(sK){return function(sL){return d.Compare(sI(sK),sI(sL));};},sJ);},sortByDescending:function(sM,sN){return e.sortWith(function(sO){return function(sP){return-d.Compare(sM(sO),sM(sP));};},sN);},sortDescending:function(sQ){var sR;sR=c.ofSeq(sQ);k.sortInPlaceByDescending(function(sS){return sS;},sR);return e.ofArray(sR);},sortWith:function(sT,sU){var sV;sV=c.ofSeq(sU);c.sortInPlaceWith(sT,sV);return e.ofArray(sV);},splitAt:function(sW,sX){return[e.ofSeq(i.take(sW,sX)),y.skip(sW,sX)];},splitInto:function(sY,sZ){var s0,s2,s3;s0=function(s1){return e.ofArray(s1);};s2=k.splitInto(sY,c.ofSeq(sZ));s3=e.ofArray(s2);return e.map(s0,s3);},tail:function(s4){var s5,s6;if(s4.$==1){s6=s4.$1;s5=s6;}else{s5=d.FailWith("The input list was empty.");}return s5;},tryFindBack:function(s7,s8){return k.tryFindBack(s7,c.ofSeq(s8));},tryHead:function(s9){var s_,s$;if(s9.$==0){s_={$:0};}else{s$=s9.$0;s_={$:1,$0:s$};}return s_;},tryItem:function(ta,tb){return j.tryItem(ta,tb);},tryLast:function(tc){return j.tryLast(tc);},unfold:function(td,te){var tf;tf=j.unfold(td,te);return i.toList(tf);},unzip:function(tg){var th,ti,tj,tk,tl,tm,tn;th=[];ti=[];tj=f.Get(tg);try{while(tj.MoveNext()){tl=tj.get_Current();tm=tl[1];tn=tl[0];th.push(tn);ti.push(tm);}}finally{tj.Dispose!=undefined?tj.Dispose():null;}return[e.ofArray(th.slice(0)),e.ofArray(ti.slice(0))];},unzip3:function(to){var tp,tq,tr,ts,tt,tu,tv,tw,tx;tp=[];tq=[];tr=[];ts=f.Get(to);try{while(ts.MoveNext()){tu=ts.get_Current();tv=tu[2];tw=tu[1];tx=tu[0];tp.push(tx);tq.push(tw);tr.push(tv);}}finally{ts.Dispose!=undefined?ts.Dispose():null;}return[e.ofArray(tp.slice(0)),e.ofArray(tq.slice(0)),e.ofArray(tr.slice(0))];},windowed:function(ty,tz){var tA,tC,tD;tA=function(tB){return e.ofArray(tB);};tC=j.windowed(ty,tz);tD=i.map(tA,tC);return i.toList(tD);},zip:function(tE,tF){return e.ofArray(c.zip(c.ofSeq(tE),c.ofSeq(tF)));},zip3:function(tG,tH,tI){return e.ofArray(c.zip3(c.ofSeq(tG),c.ofSeq(tH),c.ofSeq(tI)));}},MatchFailureException:$.Class({},{New:function(tJ,tK,tL){return $.New(this,u.New1(tJ+" at "+$$.String(tK)+":"+$$.String(tL)));}}),Nullable:{get:function(tM){return tM==null?d.FailWith("Nullable object must have a value."):tM;},getOrValue:function(tN,tO){return tN==null?tO:tN;}},OperationCanceledException:$.Class({},{New:function(){return $.New(this,I.New1("The operation was canceled."));},New1:function(tP){return $.New(this,u.New1(tP));}}),Operators:{Compare:function(tQ,tR){return a.Compare(tQ,tR);},DefaultArg:function(tS,tT){var tU,tV;if(tS.$==0){tU=tT;}else{tV=tS.$0;tU=tV;}return tU;},FailWith:function(tW){return d.Raise(u.New1(tW));},KeyValue:function(tX){return[tX.K,tX.V];},Max:function(tY,tZ){return a.Compare(tY,tZ)===1?tY:tZ;},Min:function(t0,t1){return a.Compare(t0,t1)===-1?t0:t1;},Pown:function(t2,t3){var t4;t4=function(t5){var t6,t7,t8;if(t5===1){t6=t2;}else{if(t5%2===0){t8=t4(t5/2>>0);t7=t8*t8;}else{t7=t2*t4(t5-1);}t6=t7;}return t6;};return t4(t3);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(t9){return t9===0?0:t9<0?-1:1;},Truncate:function(t_){return t_<0?R.ceil(t_):R.floor(t_);},Using:function(t$,ua){var ub;try{ub=ua(t$);}finally{t$.Dispose();}return ub;},range:function(uc,ud){var ue;ue=1+ud-uc;return ue<=0?i.empty():i.init(ue,function(uf){return uf+uc;});},step:function(ug,uh,ui){var uj,uk,um,uo;uj=d.Sign(uh);uk=function(ul){return uj*(ui-ul)>=0;};um=i.initInfinite(function(un){return ug+un*uh;});uo=i.takeWhile(uk,um);return uo;}},Option:{bind:function(up,uq){var ur,us;if(uq.$==0){ur={$:0};}else{us=uq.$0;ur=up(us);}return ur;},exists:function(ut,uu){var uv,uw;if(uu.$==0){uv=false;}else{uw=uu.$0;uv=ut(uw);}return uv;},filter:function(ux,uy){var uz,uA;if(uy.$==1){uA=uy.$0;uz=ux(uA)?{$:1,$0:uA}:{$:0};}else{uz={$:0};}return uz;},fold:function(uB,uC,uD){var uE,uF;if(uD.$==0){uE=uC;}else{uF=uD.$0;uE=(uB(uC))(uF);}return uE;},foldBack:function(uG,uH,uI){var uJ,uK;if(uH.$==0){uJ=uI;}else{uK=uH.$0;uJ=(uG(uK))(uI);}return uJ;},forall:function(uL,uM){var uN,uO;if(uM.$==0){uN=true;}else{uO=uM.$0;uN=uL(uO);}return uN;},iter:function(uP,uQ){var uR,uS;if(uQ.$==0){uR=null;}else{uS=uQ.$0;uR=uP(uS);}return uR;},map:function(uT,uU){var uV,uW;if(uU.$==0){uV={$:0};}else{uW=uU.$0;uV={$:1,$0:uT(uW)};}return uV;},ofObj:function(uX){return uX==null?{$:0}:{$:1,$0:uX};},toArray:function(uY){var uZ,u0;if(uY.$==0){uZ=[];}else{u0=uY.$0;uZ=[u0];}return uZ;},toList:function(u1){var u2,u3;if(u1.$==0){u2=$.New(P,{$:0});}else{u3=u1.$0;u2=e.ofArray([u3]);}return u2;},toObj:function(u4){var u5,u6;if(u4.$==0){}else{u6=u4.$0;u5=u6;}return u5;}},PrintfHelpers:{padNumLeft:function(u7,u8){var u9;u9=c.get(u7,0);return((u9===" "?true:u9==="+")?true:u9==="-")?u9+S.PadLeftWith(u7.substr(1),u8-1,48):S.PadLeftWith(u7,u8,48);},plusForPos:function(u_,u$){return 0<=u_?"+"+u$:u$;},prettyPrint:function(va){var vb,vl,vm,vn,vo,vp,vr;vb=function(vc){var vd,ve,vf,vj,vk;vd=$$.String(vc);if(vd==="[object Object]"){vf=function(vg){var vh,vi;vh=vg[0];vi=vg[1];return vh+" = "+T.prettyPrint(vi);};vj=s.GetFields(vc);vk=c.map(vf,vj);ve="{"+S.concat("; ",vk)+"}";}else{ve=vd;}return ve;};vl=typeof va;if(vl=="string"){vm="\""+va+"\"";}else{if(vl=="object"){if(va instanceof $$.Array){vp=function(vq){return T.prettyPrint(vq);};vr=c.map(vp,va);vo="[|"+S.concat("; ",vr)+"|]";}else{vo=vb(va);}vn=vo;}else{vn=$$.String(va);}vm=vn;}return vm;},printArray:function(vs,vt){var vu;vu=c.map(vs,vt);return"[|"+S.concat("; ",vu)+"|]";},printArray2D:function(vv,vw){var vx;vx=i.delay(function(){var vz;vz=vw.length?vw[0].length:0;return i.map(function(vA){var vB;vB=i.delay(function(){return i.map(function(vD){return vv(c.get2D(vw,vA,vD));},d.range(0,vz-1));});return S.concat("; ",vB);},d.range(0,vw.length-1));});return"[["+S.concat("][",vx)+"]]";},printList:function(vE,vF){var vG;vG=i.map(vE,vF);return"["+S.concat("; ",vG)+"]";},spaceForPos:function(vH,vI){return 0<=vH?" "+vI:vI;},toSafe:function(vJ){return vJ==null?"":vJ;}},Queue:{Clear:function(vK){return vK.splice(0,c.length(vK));},Contains:function(vL,vM){return i.exists(function(vN){return a.Equals(vM,vN);},vL);},CopyTo:function(vO,vP,vQ){return c.blit(vO,0,vP,vQ,c.length(vO));}},Random:$.Class({Next:function(){return R.floor(R.random()*2147483648);},Next1:function(vR){return vR<0?d.FailWith("'maxValue' must be greater than zero."):R.floor(R.random()*vR);},Next2:function(vS,vT){var vU,vV;if(vS>vT){vU=d.FailWith("'minValue' cannot be greater than maxValue.");}else{vV=vT-vS;vU=vS+R.floor(R.random()*vV);}return vU;},NextBytes:function(vW){var vX;for(vX=0;vX<=c.length(vW)-1;vX++){c.set(vW,vX,R.floor(R.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return V.New();}),AjaxRemotingProvider:$.Class({},{Async:function(vY,vZ){var v0,v1;v0=U.makeHeaders(vY);v1=U.makePayload(vZ);return A.Delay(function(){var v3;v3=W.get_CancellationToken();return A.Bind(v3,function(v4){return A.FromContinuations(function(v5){var v6,v7,v8,v9,v_,wc,wf,wi;v6=v5[0];v7=v5[1];v8=v5[2];v9=[true];v_=A.Register(v4,function(){return function(){var wb;if(v9[0]){v9[0]=false;wb=v8(I.New());}else{wb=null;}return wb;}();});wc=function(wd){var we;if(v9[0]){v9[0]=false;v_.Dispose();we=v6(p.Activate(q.parse(wd)));}else{we=null;}return we;};wf=function(wg){var wh;if(v9[0]){v9[0]=false;v_.Dispose();wh=v7(wg);}else{wh=null;}return wh;};wi=U.EndPoint();return U.AjaxProvider().Async(wi,v0,v1,wc,wf);});});});},Send:function(wj,wk){return A.Start(A.Ignore(X.Async(wj,wk)),{$:0});},Sync:function(wl,wm){var wn,wo,wp,wq;wn=U.EndPoint();wo=U.makeHeaders(wl);wp=U.makePayload(wm);wq=U.AjaxProvider().Sync(wn,wo,wp);return p.Activate(q.parse(wq));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var wr,ws,wt,wu;try{if(!S.StartsWith(Y.location.href,"https://")){wt=S.Replace(Y.location.href,"http://","https://");U.EndPoint=function(){return wt;};ws=true;}else{ws=false;}wr=ws;}catch(wu){wr=false;}return wr;},XhrProvider:$.Class({Async:function(wv,ww,wx,wy,wz){return U.ajax(true,wv,ww,wx,wy,wz,function(){return U.ajax(true,wv,ww,wx,wy,wz,undefined);});},Sync:function(wB,wC,wD){var wE;wE=[undefined];U.ajax(false,wB,wC,wD,function(wF){wE[0]=wF;},function(wG){return d.Raise(wG);},function(){return U.ajax(false,wB,wC,wD,function(wI){wE[0]=wI;},function(wJ){return d.Raise(wJ);},undefined);});return wE[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err,$csrf){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();var csrf=$$.document.cookie.replace(new $$.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}if(csrf){xhr.setRequestHeader("x-csrftoken",csrf);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else if($csrf&&xhr.status==403&&xhr.responseText=="CSRF"){$csrf();}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(wK){var wL;wL={};wL["content-type"]="application/json";wL["x-websharper-rpc"]=wK;return wL;},makePayload:function(wM){return q.stringify(wM);}},Seq:{append:function(wN,wO){return h.Of(function(){var wQ,wR;wQ=f.Get(wN);wR=[true];return g.New(wQ,null,function(wS){var wT,wU,wV,wW;if(wS.s.MoveNext()){wS.c=wS.s.get_Current();wT=true;}else{wU=wS.s;!a.Equals(wU,null)?wU.Dispose():null;wS.s=null;if(wR[0]){wR[0]=false;wS.s=f.Get(wO);if(wS.s.MoveNext()){wS.c=wS.s.get_Current();wW=true;}else{wS.s.Dispose();wS.s=null;wW=false;}wV=wW;}else{wV=false;}wT=wV;}return wT;},function(wX){var wY;wY=wX.s;return!a.Equals(wY,null)?wY.Dispose():null;});});},average:function(wZ){var w0,w5,w6;w0=i.fold(function(w1){var w2,w3;w2=w1[0];w3=w1[1];return function(w4){return[w2+1,w3+w4];};},[0,0],wZ);w5=w0[1];w6=w0[0];return w5/w6;},averageBy:function(w7,w8){var w9,xc,xd;w9=i.fold(function(w_){var w$,xa;w$=w_[0];xa=w_[1];return function(xb){return[w$+1,xa+w7(xb)];};},[0,0],w8);xc=w9[1];xd=w9[0];return xc/xd;},cache:function(xe){var xf,xg,xh;xf=[];xg=[f.Get(xe)];xh=function(){var xj;xj=function(xk){var xl,xm,xn,xo;if(xk.s+1<xf.length){xk.s=xk.s+1;xk.c=xf[xk.s];xl=true;}else{xm=xg[0];if(a.Equals(xm,null)){xn=false;}else{if(xm.MoveNext()){xk.s=xk.s+1;xk.c=xm.get_Current();xf.push(xk.get_Current());xo=true;}else{xm.Dispose();xg[0]=null;xo=false;}xn=xo;}xl=xn;}return xl;};return g.New(0,null,xj,function(){});};return h.Of(xh);},choose:function(xq,xr){var xs;xs=function(xt){var xu,xv,xw;xu=xq(xt);if(xu.$==0){xv=$.New(P,{$:0});}else{xw=xu.$0;xv=e.ofArray([xw]);}return xv;};return i.collect(xs,xr);},collect:function(xx,xy){return i.concat(i.map(xx,xy));},concat:function(xz){return h.Of(function(){var xB,xC;xB=f.Get(xz);xC=function(xD){var xE,xF,xG,xH;xE=xD.s;if(a.Equals(xE,null)){if(xB.MoveNext()){xD.s=f.Get(xB.get_Current());xG=xC(xD);}else{xB.Dispose();xG=false;}xF=xG;}else{if(xE.MoveNext()){xD.c=xE.get_Current();xH=true;}else{xD.Dispose();xD.s=null;xH=xC(xD);}xF=xH;}return xF;};return g.New(null,null,xC,function(xI){var xJ;xJ=xI.s;!a.Equals(xJ,null)?xJ.Dispose():null;return!a.Equals(xB,null)?xB.Dispose():null;});});},delay:function(xK){return h.Of(function(){return f.Get(xK(null));});},empty:function(){return[];},enumFinally:function(xM,xN){var xO;xO=function(){var xQ,xR,xS,xT,xV;try{xR=f.Get(xM);}catch(xS){xN(null);xR=d.Raise(xS);}xQ=xR;xT=function(){xQ.Dispose();return xN(null);};xV=function(xW){var xX;if(xQ.MoveNext()){xW.c=xQ.get_Current();xX=true;}else{xX=false;}return xX;};return g.New(null,null,xV,xT);};return h.Of(xO);},enumUsing:function(xY,xZ){var x0;x0=function(){var x2,x3,x4,x5,x7;try{x3=f.Get(xZ(xY));}catch(x4){xY.Dispose();x3=d.Raise(x4);}x2=x3;x5=function(){x2.Dispose();return xY.Dispose();};x7=function(x8){var x9;if(x2.MoveNext()){x8.c=x2.get_Current();x9=true;}else{x9=false;}return x9;};return g.New(null,null,x7,x5);};return h.Of(x0);},enumWhile:function(x_,x$){return h.Of(function(){var yb;yb=function(yc){var yd,ye,yf,yg;yd=yc.s;if(a.Equals(yd,null)){if(x_(null)){yc.s=f.Get(x$);yf=yb(yc);}else{yf=false;}ye=yf;}else{if(yd.MoveNext()){yc.c=yd.get_Current();yg=true;}else{yd.Dispose();yc.s=null;yg=yb(yc);}ye=yg;}return ye;};return g.New(null,null,yb,function(yh){var yi;yi=yh.s;return!a.Equals(yi,null)?yi.Dispose():null;});});},exists:function(yj,yk){var yl,ym,yn;yl=f.Get(yk);try{yn=false;while(!yn?yl.MoveNext():false){yn=yj(yl.get_Current());}ym=yn;}finally{yl.Dispose!=undefined?yl.Dispose():null;}return ym;},exists2:function(yo,yp,yq){var yr,ys,yt,yu,yv;yr=f.Get(yp);try{yt=f.Get(yq);try{yv=false;while((!yv?yr.MoveNext():false)?yt.MoveNext():false){yv=(yo(yr.get_Current()))(yt.get_Current());}yu=yv;}finally{yt.Dispose!=undefined?yt.Dispose():null;}ys=yu;}finally{yr.Dispose!=undefined?yr.Dispose():null;}return ys;},filter:function(yw,yx){var yy;yy=function(){var yA,yB,yD;yA=f.Get(yx);yB=function(){return yA.Dispose();};yD=function(yE){var yF,yG,yH,yI;yF=yA.MoveNext();yG=yA.get_Current();yH=false;while(yF){if(yw(yG)){yE.c=yG;yH=true;yI=yF=false;}else{yI=yA.MoveNext()?yG=yA.get_Current():yF=false;}}return yH;};return g.New(null,null,yD,yB);};return h.Of(yy);},find:function(yJ,yK){var yL,yM,yN;yL=i.tryFind(yJ,yK);if(yL.$==0){yM=d.FailWith("KeyNotFoundException");}else{yN=yL.$0;yM=yN;}return yM;},findBack:function(yO,yP){var yQ,yR,yS;yQ=k.tryFindBack(yO,c.ofSeq(yP));if(yQ.$==0){yR=d.FailWith("KeyNotFoundException");}else{yS=yQ.$0;yR=yS;}return yR;},findIndex:function(yT,yU){var yV,yW,yX;yV=i.tryFindIndex(yT,yU);if(yV.$==0){yW=d.FailWith("KeyNotFoundException");}else{yX=yV.$0;yW=yX;}return yW;},findIndexBack:function(yY,yZ){var y0,y1,y2;y0=k.tryFindIndexBack(yY,c.ofSeq(yZ));if(y0.$==0){y1=d.FailWith("KeyNotFoundException");}else{y2=y0.$0;y1=y2;}return y1;},fold:function(y3,y4,y5){var y6,y7,y8;y6=y4;y7=f.Get(y5);try{while(y7.MoveNext()){y6=(y3(y6))(y7.get_Current());}y8=y6;}finally{y7.Dispose!=undefined?y7.Dispose():null;}return y8;},fold2:function(y9,y_,y$,za){return c.fold2(y9,y_,c.ofSeq(y$),c.ofSeq(za));},foldBack:function(zb,zc,zd){return c.foldBack(zb,c.ofSeq(zc),zd);},foldBack2:function(ze,zf,zg,zh){return c.foldBack2(ze,c.ofSeq(zf),c.ofSeq(zg),zh);},forall:function(zi,zj){return!i.exists(function(zk){return!zi(zk);},zj);},forall2:function(zl,zm,zn){return!i.exists2(function(zo){return function(zp){return!(zl(zo))(zp);};},zm,zn);},head:function(zq){var zr,zs;zr=f.Get(zq);try{zs=zr.MoveNext()?zr.get_Current():j.insufficient();}finally{zr.Dispose!=undefined?zr.Dispose():null;}return zs;},indexed:function(zt){return i.mapi(function(zu){return function(zv){return[zu,zv];};},zt);},init:function(zw,zx){return i.take(zw,i.initInfinite(zx));},initInfinite:function(zy){var zz;zz=function(){var zB;zB=function(zC){zC.c=zy(zC.s);zC.s=zC.s+1;return true;};return g.New(0,null,zB,function(){});};return h.Of(zz);},isEmpty:function(zE){var zF,zG;zF=f.Get(zE);try{zG=!zF.MoveNext();}finally{zF.Dispose!=undefined?zF.Dispose():null;}return zG;},iter:function(zH,zI){return i.iteri(function(){return function(zK){return zH(zK);};},zI);},iter2:function(zL,zM,zN){var zO,zP,zQ,zR;zO=f.Get(zM);try{zQ=f.Get(zN);try{while(zO.MoveNext()?zQ.MoveNext():false){(zL(zO.get_Current()))(zQ.get_Current());}}finally{zQ.Dispose!=undefined?zQ.Dispose():null;}zP=zR;}finally{zO.Dispose!=undefined?zO.Dispose():null;}return zP;},iteri:function(zS,zT){var zU,zV,zW;zU=0;zV=f.Get(zT);try{while(zV.MoveNext()){(zS(zU))(zV.get_Current());zU=zU+1;}}finally{zV.Dispose!=undefined?zV.Dispose():null;}return zW;},iteri2:function(zX,zY,zZ){return c.iteri2(zX,c.ofSeq(zY),c.ofSeq(zZ));},length:function(z0){var z1,z2,z3;z1=0;z2=f.Get(z0);try{while(z2.MoveNext()){z1=z1+1;}z3=z1;}finally{z2.Dispose!=undefined?z2.Dispose():null;}return z3;},map:function(z4,z5){var z6;z6=function(){var z8,z9,z$;z8=f.Get(z5);z9=function(){return z8.Dispose();};z$=function(Aa){var Ab;if(z8.MoveNext()){Aa.c=z4(z8.get_Current());Ab=true;}else{Ab=false;}return Ab;};return g.New(null,null,z$,z9);};return h.Of(z6);},map2:function(Ac,Ad,Ae){var Af;Af=function(){var Ah,Ai,Aj,Al;Ah=f.Get(Ad);Ai=f.Get(Ae);Aj=function(){Ah.Dispose();return Ai.Dispose();};Al=function(Am){var An;if(Ah.MoveNext()?Ai.MoveNext():false){Am.c=(Ac(Ah.get_Current()))(Ai.get_Current());An=true;}else{An=false;}return An;};return g.New(null,null,Al,Aj);};return h.Of(Af);},map3:function(Ao,Ap,Aq,Ar){var As;As=function(){var Au,Av,Aw,Ax,Az;Au=f.Get(Ap);Av=f.Get(Aq);Aw=f.Get(Ar);Ax=function(){Au.Dispose();Av.Dispose();return Aw.Dispose();};Az=function(AA){var AB;if((Au.MoveNext()?Av.MoveNext():false)?Aw.MoveNext():false){AA.c=((Ao(Au.get_Current()))(Av.get_Current()))(Aw.get_Current());AB=true;}else{AB=false;}return AB;};return g.New(null,null,Az,Ax);};return h.Of(As);},mapFold:function(AC,AD,AE){var AF,AG,AH;AF=k.mapFold(AC,AD,i.toArray(AE));AG=AF[0];AH=AF[1];return[AG,AH];},mapFoldBack:function(AI,AJ,AK){var AL,AM,AN;AL=k.mapFoldBack(AI,i.toArray(AJ),AK);AM=AL[0];AN=AL[1];return[AM,AN];},mapi:function(AO,AP){return i.map2(AO,i.initInfinite(function(AQ){return AQ;}),AP);},mapi2:function(AR,AS,AT){return i.map3(AR,i.initInfinite(function(AU){return AU;}),AS,AT);},max:function(AV){return i.reduce(function(AW){return function(AX){return a.Compare(AW,AX)>=0?AW:AX;};},AV);},maxBy:function(AY,AZ){return i.reduce(function(A0){return function(A1){return a.Compare(AY(A0),AY(A1))>=0?A0:A1;};},AZ);},min:function(A2){return i.reduce(function(A3){return function(A4){return a.Compare(A3,A4)<=0?A3:A4;};},A2);},minBy:function(A5,A6){return i.reduce(function(A7){return function(A8){return a.Compare(A5(A7),A5(A8))<=0?A7:A8;};},A6);},nth:function(A9,A_){var A$,Ba,Bb;A9<0?d.FailWith("negative index requested"):null;A$=-1;Ba=f.Get(A_);try{while(A$<A9){!Ba.MoveNext()?j.insufficient():null;A$=A$+1;}Bb=Ba.get_Current();}finally{Ba.Dispose!=undefined?Ba.Dispose():null;}return Bb;},permute:function(Bc,Bd){return i.delay(function(){return c.permute(Bc,c.ofSeq(Bd));});},pick:function(Bf,Bg){var Bh,Bi,Bj;Bh=i.tryPick(Bf,Bg);if(Bh.$==0){Bi=d.FailWith("KeyNotFoundException");}else{Bj=Bh.$0;Bi=Bj;}return Bi;},readOnly:function(Bk){return h.Of(function(){return f.Get(Bk);});},reduce:function(Bm,Bn){var Bo,Bp,Bq;Bo=f.Get(Bn);try{!Bo.MoveNext()?d.FailWith("The input sequence was empty"):null;Bq=Bo.get_Current();while(Bo.MoveNext()){Bq=(Bm(Bq))(Bo.get_Current());}Bp=Bq;}finally{Bo.Dispose!=undefined?Bo.Dispose():null;}return Bp;},reduceBack:function(Br,Bs){return c.reduceBack(Br,c.ofSeq(Bs));},replicate:function(Bt,Bu){Bt<0?j.nonNegative():null;return i.delay(function(){return i.map(function(){return Bu;},d.range(0,Bt-1));});},rev:function(Bx){return i.delay(function(){var Bz;Bz=i.toArray(Bx).slice().reverse();return Bz;});},scan:function(BA,BB,BC){var BD;BD=function(){var BF,BG,BI;BF=f.Get(BC);BG=function(){return BF.Dispose();};BI=function(BJ){var BK,BL;if(BJ.s){if(BF.MoveNext()){BJ.c=(BA(BJ.get_Current()))(BF.get_Current());BL=true;}else{BL=false;}BK=BL;}else{BJ.c=BB;BJ.s=true;BK=true;}return BK;};return g.New(false,null,BI,BG);};return h.Of(BD);},scanBack:function(BM,BN,BO){return i.delay(function(){return c.scanBack(BM,c.ofSeq(BN),BO);});},skip:function(BQ,BR){return h.Of(function(){var BT;BT=f.Get(BR);return g.New(true,null,function(BU){var BV,BW,BX;if(BU.s){for(BW=1;BW<=BQ;BW++){!BT.MoveNext()?j.insufficient():null;}BV=void(BU.s=false);}else{BV=null;}if(BT.MoveNext()){BU.c=BT.get_Current();BX=true;}else{BX=false;}return BX;},function(){return BT.Dispose();});});},skipWhile:function(BZ,B0){return h.Of(function(){var B2;B2=f.Get(B0);return g.New(true,null,function(B3){var B4,B5,B6,B7,B8,B9;if(B3.s){B5=true;B6=false;while(B5){if(B2.MoveNext()){B7=!BZ(B2.get_Current())?B5=false:null;}else{B5=false;B7=B6=true;}}B3.s=false;if(B6){B8=false;}else{B3.c=B2.get_Current();B8=true;}B4=B8;}else{if(B2.MoveNext()){B3.c=B2.get_Current();B9=true;}else{B9=false;}B4=B9;}return B4;},function(){return B2.Dispose();});});},sort:function(B$){return i.sortBy(function(Ca){return Ca;},B$);},sortBy:function(Cb,Cc){return i.delay(function(){var Ce;Ce=c.ofSeq(Cc);c.sortInPlaceBy(Cb,Ce);return Ce;});},sortByDescending:function(Cf,Cg){return i.delay(function(){var Ci;Ci=c.ofSeq(Cg);k.sortInPlaceByDescending(Cf,Ci);return Ci;});},sortDescending:function(Cj){return i.sortByDescending(function(Ck){return Ck;},Cj);},sortWith:function(Cl,Cm){return i.delay(function(){var Co;Co=c.ofSeq(Cm);c.sortInPlaceWith(Cl,Co);return Co;});},splitInto:function(Cp,Cq){Cp<=0?d.FailWith("Count must be positive"):null;return i.delay(function(){var Cs;Cs=k.splitInto(Cp,c.ofSeq(Cq));return Cs;});},sum:function(Ct){return i.fold(function(Cu){return function(Cv){return Cu+Cv;};},0,Ct);},sumBy:function(Cw,Cx){return i.fold(function(Cy){return function(Cz){return Cy+Cw(Cz);};},0,Cx);},tail:function(CA){return i.skip(1,CA);},take:function(CB,CC){CB<0?j.nonNegative():null;return h.Of(function(){var CE;CE=[f.Get(CC)];return g.New(0,null,function(CF){var CG,CH,CI,CJ,CK;CF.s=CF.s+1;if(CF.s>CB){CG=false;}else{CH=CE[0];if(a.Equals(CH,null)){CI=j.insufficient();}else{if(CH.MoveNext()){CF.c=CH.get_Current();if(CF.s===CB){CH.Dispose();CK=void(CE[0]=null);}else{CK=null;}CJ=true;}else{CH.Dispose();CE[0]=null;CJ=j.insufficient();}CI=CJ;}CG=CI;}return CG;},function(){var CM;CM=CE[0];return!a.Equals(CM,null)?CM.Dispose():null;});});},takeWhile:function(CN,CO){return i.delay(function(){return i.enumUsing(f.Get(CO),function(CQ){return i.enumWhile(function(){return CQ.MoveNext()?CN(CQ.get_Current()):false;},i.delay(function(){return[CQ.get_Current()];}));});});},toArray:function(CT){var CU,CV,CW,CX;CU=[];CV=f.Get(CT);try{while(CV.MoveNext()){CX=CV.get_Current();CU.push(CX);}}finally{CV.Dispose!=undefined?CV.Dispose():null;}return CU.slice(0);},toList:function(CY){return e.ofSeq(CY);},tryFind:function(CZ,C0){var C1,C2,C3,C4;C1=f.Get(C0);try{C3={$:0};while(C3.$==0?C1.MoveNext():false){C4=C1.get_Current();CZ(C4)?C3={$:1,$0:C4}:null;}C2=C3;}finally{C1.Dispose!=undefined?C1.Dispose():null;}return C2;},tryFindIndex:function(C5,C6){var C7,C8,C9,C_,C$;C7=f.Get(C6);try{C9=true;C_=0;while(C9?C7.MoveNext():false){C$=C7.get_Current();C5(C$)?C9=false:C_=C_+1;}C8=C9?{$:0}:{$:1,$0:C_};}finally{C7.Dispose!=undefined?C7.Dispose():null;}return C8;},tryPick:function(Da,Db){var Dc,Dd,De;Dc=f.Get(Db);try{De={$:0};while(a.Equals(De,{$:0})?Dc.MoveNext():false){De=Da(Dc.get_Current());}Dd=De;}finally{Dc.Dispose!=undefined?Dc.Dispose():null;}return Dd;},zip:function(Df,Dg){return i.map2(function(Dh){return function(Di){return[Dh,Di];};},Df,Dg);},zip3:function(Dj,Dk,Dl){return i.map2(function(Dm){return function(Dn){var Do,Dp;Do=Dn[0];Dp=Dn[1];return[Dm,Do,Dp];};},Dj,i.zip(Dk,Dl));}},Slice:{array:function(Dq,Dr,Ds){var Dt,Du,Dv,Dw,Dx,Dy,Dz,DA;Dt=[Dr,Ds];if(Dt[0].$==0){if(Dt[1].$==1){Dw=Dt[1].$0;Dv=Dq.slice(0,Dw+1);}else{Dv=[];}Du=Dv;}else{if(Dt[1].$==0){Dy=Dt[0].$0;Dx=Dq.slice(Dy);}else{Dz=Dt[1].$0;DA=Dt[0].$0;Dx=Dq.slice(DA,Dz+1);}Du=Dx;}return Du;},array2D:function(DB,DC,DD,DE,DF){var DG,DH,DI,DJ,DK,DL,DM,DN,DO,DP,DQ,DR,DS,DT;if(DC.$==1){DI=DC.$0;DH=DI;}else{DH=0;}DG=DH;if(DE.$==1){DL=DE.$0;DK=DL;}else{DK=0;}DJ=DK;if(DD.$==1){DO=DD.$0;DN=DO;}else{DN=DB.length-1;}DM=DN;if(DF.$==1){DR=DF.$0;DQ=DR;}else{DQ=(DB.length?DB[0].length:0)-1;}DP=DQ;DS=DM-DG+1;DT=DP-DJ+1;return c.sub2D(DB,DG,DJ,DS,DT);},array2Dfix1:function(DU,DV,DW,DX){var DY,DZ,D0,D1,D2,D3,D4,D5,D6;if(DW.$==1){D0=DW.$0;DZ=D0;}else{DZ=0;}DY=DZ;if(DX.$==1){D3=DX.$0;D2=D3;}else{D2=(DU.length?DU[0].length:0)-1;}D1=D2;D4=D1-DY+1;D5=b(D4);for(D6=0;D6<=D4-1;D6++){c.set(D5,D6,c.get2D(DU,DV,DY+D6));}return D5;},array2Dfix2:function(D7,D8,D9,D_){var D$,Ea,Eb,Ec,Ed,Ee,Ef,Eg,Eh;if(D8.$==1){Eb=D8.$0;Ea=Eb;}else{Ea=0;}D$=Ea;if(D9.$==1){Ee=D9.$0;Ed=Ee;}else{Ed=D7.length-1;}Ec=Ed;Ef=Ec-D$+1;Eg=b(Ef);for(Eh=0;Eh<=Ef-1;Eh++){c.set(Eg,Eh,c.get2D(D7,D$+Eh,D_));}return Eg;},setArray:function(Ei,Ej,Ek,El){var Em,En,Eo,Ep,Eq,Er;if(Ej.$==1){Eo=Ej.$0;En=Eo;}else{En=0;}Em=En;if(Ek.$==1){Er=Ek.$0;Eq=Er;}else{Eq=Ei.length-1;}Ep=Eq;return c.setSub(Ei,Em,Ep-Em+1,El);},setArray2D:function(Es,Et,Eu,Ev,Ew,Ex){var Ey,Ez,EA,EB,EC,ED,EE,EF,EG,EH,EI,EJ;if(Et.$==1){EA=Et.$0;Ez=EA;}else{Ez=0;}Ey=Ez;if(Ev.$==1){ED=Ev.$0;EC=ED;}else{EC=0;}EB=EC;if(Eu.$==1){EG=Eu.$0;EF=EG;}else{EF=Es.length-1;}EE=EF;if(Ew.$==1){EJ=Ew.$0;EI=EJ;}else{EI=(Es.length?Es[0].length:0)-1;}EH=EI;return c.setSub2D(Es,Ey,EB,EE-Ey+1,EH-EB+1,Ex);},setArray2Dfix1:function(EK,EL,EM,EN,EO){var EP,EQ,ER,ES,ET,EU,EV,EW;if(EM.$==1){ER=EM.$0;EQ=ER;}else{EQ=0;}EP=EQ;if(EN.$==1){EU=EN.$0;ET=EU;}else{ET=(EK.length?EK[0].length:0)-1;}ES=ET;EV=ES-EP+1;for(EW=0;EW<=EV-1;EW++){c.set2D(EK,EL,EP+EW,c.get(EO,EW));}return;},setArray2Dfix2:function(EX,EY,EZ,E0,E1){var E2,E3,E4,E5,E6,E7,E8,E9;if(EY.$==1){E4=EY.$0;E3=E4;}else{E3=0;}E2=E3;if(EZ.$==1){E7=EZ.$0;E6=E7;}else{E6=EX.length-1;}E5=E6;E8=E5-E2+1;for(E9=0;E9<=E8-1;E9++){c.set2D(EX,E2+E9,E0,c.get(E1,E9));}return;},string:function(E_,E$,Fa){var Fb,Fc,Fd,Fe,Ff,Fg,Fh,Fi;Fb=[E$,Fa];if(Fb[0].$==0){if(Fb[1].$==1){Fe=Fb[1].$0;Fd=E_.slice(0,Fe+1);}else{Fd="";}Fc=Fd;}else{if(Fb[1].$==0){Fg=Fb[0].$0;Ff=E_.slice(Fg);}else{Fh=Fb[1].$0;Fi=Fb[0].$0;Ff=E_.slice(Fi,Fh+1);}Fc=Ff;}return Fc;}},Stack:{Clear:function(Fj){return Fj.splice(0,c.length(Fj));},Contains:function(Fk,Fl){return i.exists(function(Fm){return a.Equals(Fl,Fm);},Fk);},CopyTo:function(Fn,Fo,Fp){return c.blit(Fo,0,Fo,Fp,c.length(Fn));}},Strings:{Compare:function(Fq,Fr){return d.Compare(Fq,Fr);},CopyTo:function(Fs,Ft,Fu,Fv,Fw){return c.blit(S.ToCharArray(Fs),Ft,Fu,Fv,Fw);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},Filter:function(Fx,Fy){var Fz,FB;Fz=function(FA){return Fx(FA)?{$:1,$0:Z.fromCharCode(FA)}:{$:0};};FB=i.choose(Fz,Fy);return c.ofSeq(FB).join("");},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(FC,FD){return S.PadLeftWith(FC,FD,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s:$s;},PadRight:function(FE,FF){return S.PadRightWith(FE,FF,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $n>$s.length?$s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c)):$s;},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(FG,FH,FI){var FJ;FJ=function(FK){var FL,FM,FN,FO;FL=FK.indexOf(FH);if(FL!==-1){FN=S.ReplaceOnce(FK,FH,FI);FO=FL+FI.length;FM=S.Substring(FN,0,FL+FI.length)+FJ(FN.substring(FO));}else{FM=FK;}return FM;};return FJ(FG);},ReplaceChar:function(FP,FQ,FR){return S.Replace(FP,Z.fromCharCode(FQ),Z.fromCharCode(FR));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(FS,FT,FU){var FV;FV=S.SplitWith(FS,FT);return FU===1?c.filter(function(FW){return FW!=="";},FV):FV;},SplitChars:function(FX,FY,FZ){var F0;F0="["+S.RegexEscape(Z.fromCharCode.apply(undefined,FY))+"]";return S.Split(FX,new _0(F0),FZ);},SplitStrings:function(F1,F2,F3){var F4;F4=S.concat("|",c.map(function(F5){return S.RegexEscape(F5);},F2));return S.Split(F1,new _0(F4),F3);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(F6){return c.init(F6.length,function(F7){return F6.charCodeAt(F7);});},ToCharArrayRange:function(F8,F9,F_){return c.init(F_,function(F$){return F8.charCodeAt(F9+F$);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(Ga,Gb){return c.init(Gb.length,function(Gc){return Ga(Gb.charCodeAt(Gc));}).join("");},concat:function(Gd,Ge){return i.toArray(Ge).join(Gd);},exists:function(Gf,Gg){return i.exists(Gf,S.protect(Gg));},forall:function(Gh,Gi){return i.forall(Gh,S.protect(Gi));},init:function(Gj,Gk){return c.init(Gj,Gk).join("");},iter:function(Gl,Gm){return i.iter(Gl,S.protect(Gm));},iteri:function(Gn,Go){return i.iteri(Gn,S.protect(Go));},length:function(Gp){return S.protect(Gp).length;},map:function(Gq,Gr){return S.collect(function(Gs){return Z.fromCharCode(Gq(Gs));},S.protect(Gr));},mapi:function(Gt,Gu){return i.toArray(i.mapi(function(Gv){return function(Gw){return Z.fromCharCode((Gt(Gv))(Gw));};},Gu)).join("");},protect:function(Gx){return Gx===null?"":Gx;},replicate:function(Gy,Gz){return S.init(Gy,function(){return Gz;});}},Unchecked:{Compare:function(GB,GC){var GD,GN,GO,GP,GQ;GD=function(GE){return function(GF){var GG;GG=[0];s.ForEach(GE,function(GH){var GI,GJ;if(!GE.hasOwnProperty(GH)){GI=false;}else{if(!GF.hasOwnProperty(GH)){GG[0]=1;GJ=true;}else{GG[0]=a.Compare(GE[GH],GF[GH]);GJ=GG[0]!==0;}GI=GJ;}return GI;});GG[0]===0?s.ForEach(GF,function(GK){var GL,GM;if(!GF.hasOwnProperty(GK)){GL=false;}else{if(!GE.hasOwnProperty(GK)){GG[0]=-1;GM=true;}else{GM=false;}GL=GM;}return GL;}):null;return GG[0];};};if(GB===GC){GN=0;}else{GO=typeof GB;if(GO==="function"){GP=d.FailWith("Cannot compare function values.");}else{if(GO==="boolean"){GP=GB<GC?-1:1;}else{if(GO==="number"){GP=GB<GC?-1:1;}else{if(GO==="string"){GP=GB<GC?-1:1;}else{if(GO==="object"){GP=GB===null?-1:GC===null?1:"CompareTo"in GB?GB.CompareTo(GC):(GB instanceof b?GC instanceof b:false)?a.compareArrays(GB,GC):(GB instanceof J?GC instanceof J:false)?a.compareDates(GB,GC):(GD(GB))(GC);}else{GQ=typeof GC;GP=GQ==="undefined"?0:-1;}}}}}GN=GP;}return GN;},Equals:function(GR,GS){var GT,GZ,G0;GT=function(GU){return function(GV){var GW;GW=[true];s.ForEach(GU,function(GX){GW[0]=!GU.hasOwnProperty(GX)?true:GV.hasOwnProperty(GX)?a.Equals(GU[GX],GV[GX]):false;return!GW[0];});GW[0]?s.ForEach(GV,function(GY){GW[0]=!GV.hasOwnProperty(GY)?true:GU.hasOwnProperty(GY);return!GW[0];}):null;return GW[0];};};if(GR===GS){GZ=true;}else{G0=typeof GR;GZ=G0==="object"?(((GR===null?true:GR===undefined)?true:GS===null)?true:GS===undefined)?false:"Equals"in GR?GR.Equals(GS):(GR instanceof b?GS instanceof b:false)?a.arrayEquals(GR,GS):(GR instanceof J?GS instanceof J:false)?a.dateEquals(GR,GS):(GT(GR))(GS):false;}return GZ;},Hash:function(G1){var G2;G2=typeof G1;return G2==="function"?0:G2==="boolean"?G1?1:0:G2==="number"?G1:G2==="string"?a.hashString(G1):G2==="object"?G1==null?0:G1 instanceof b?a.hashArray(G1):a.hashObject(G1):0;},arrayEquals:function(G3,G4){var G5,G6,G7;if(c.length(G3)===c.length(G4)){G6=true;G7=0;while(G6?G7<c.length(G3):false){!a.Equals(c.get(G3,G7),c.get(G4,G7))?G6=false:null;G7=G7+1;}G5=G6;}else{G5=false;}return G5;},compareArrays:function(G8,G9){var G_,G$,Ha,Hb;if(c.length(G8)<c.length(G9)){G_=-1;}else{if(c.length(G8)>c.length(G9)){G$=1;}else{Ha=0;Hb=0;while(Ha===0?Hb<c.length(G8):false){Ha=a.Compare(c.get(G8,Hb),c.get(G9,Hb));Hb=Hb+1;}G$=Ha;}G_=G$;}return G_;},compareDates:function(Hc,Hd){return d.Compare(Hc.getTime(),Hd.getTime());},dateEquals:function(He,Hf){return He.getTime()===Hf.getTime();},hashArray:function(Hg){var Hh,Hi;Hh=-34948909;for(Hi=0;Hi<=c.length(Hg)-1;Hi++){Hh=a.hashMix(Hh,a.Hash(c.get(Hg,Hi)));}return Hh;},hashMix:function(Hj,Hk){return(Hj<<5)+Hj+Hk;},hashObject:function(Hl){var Hm,Hn,Hq;if("GetHashCode"in Hl){Hm=Hl.GetHashCode();}else{Hn=function(Ho,Hp){return a.hashMix(Ho,Hp);};Hq=[0];s.ForEach(Hl,function(Hr){Hq[0]=Hn(Hn(Hq[0],a.hashString(Hr)),a.Hash(Hl[Hr]));return false;});Hm=Hq[0];}return Hm;},hashString:function(Hs){var Ht,Hu,Hv;if(Hs===null){Ht=0;}else{Hu=5381;for(Hv=0;Hv<=Hs.length-1;Hv++){Hu=a.hashMix(Hu,Hs.charCodeAt(Hv)<<0);}Ht=Hu;}return Ht;}},Util:{addListener:function(Hw,Hx){Hw.Subscribe(G.observer(Hx));},observer:function(Hy){return{OnCompleted:function(){},OnError:function(){},OnNext:Hy};},subscribeTo:function(HB,HC){return HB.Subscribe(G.observer(HC));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Unchecked);b=$.Safe($$.Array);c=$.Safe($$.WebSharper.Arrays);d=$.Safe($$.WebSharper.Operators);e=$.Safe($$.WebSharper.List);f=$.Safe($$.WebSharper.Enumerator);g=$.Safe(f.T);h=$.Safe($$.WebSharper.Enumerable);i=$.Safe($$.WebSharper.Seq);j=$.Safe($$.Seq);k=$.Safe($$.Arrays);l=$.Safe($$.WebSharper.Ref);m=$.Safe($$.WebSharper.Activator);n=$.Safe($$.document);o=$.Safe($$.jQuery);p=$.Safe($$.WebSharper.Json);q=$.Safe($$.JSON);r=$.Safe($$.WebSharper.JavaScript);s=$.Safe(r.JSModule);t=$.Safe($$.WebSharper.AggregateException);u=$.Safe($$.WebSharper.Exception);v=$.Safe($$.WebSharper.ArgumentException);w=$.Safe($$.Number);x=$.Safe($$.WebSharper.IndexOutOfRangeException);y=$.Safe($$.List);z=$.Safe($$.WebSharper.Arrays2D);A=$.Safe($$.WebSharper.Concurrency);B=$.Safe($$.WebSharper.Option);C=$.Safe($$.clearTimeout);D=$.Safe($$.setTimeout);E=$.Safe($$.WebSharper.CancellationTokenSource);F=$.Safe($$.WebSharper.Char);G=$.Safe($$.WebSharper.Util);H=$.Safe($$.WebSharper.Lazy);I=$.Safe($$.WebSharper.OperationCanceledException);J=$.Safe($$.Date);K=$.Safe($$.console);L=$.Safe(A.Scheduler);M=$.Safe($$.WebSharper.HtmlContentExtensions);N=$.Safe(M.SingleNode);O=$.Safe($$.WebSharper.InvalidOperationException);P=$.Safe(e.T);Q=$.Safe($$.WebSharper.MatchFailureException);R=$.Safe($$.Math);S=$.Safe($$.WebSharper.Strings);T=$.Safe($$.WebSharper.PrintfHelpers);U=$.Safe($$.WebSharper.Remoting);V=$.Safe(U.XhrProvider);W=$.Safe($$.WebSharper.AsyncProxy);X=$.Safe(U.AjaxRemotingProvider);Y=$.Safe($$.window);Z=$.Safe($$.String);return _0=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(t,u);$.Inherit(v,u);$.Inherit(x,u);$.Inherit(O,u);$.Inherit(Q,u);$.Inherit(I,u);U.EndPoint();U.AjaxProvider();A.scheduler();A.defCTS();A.GetCT();m.Activate();return;});}());
